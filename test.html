<html>

<head>
    <title>Test Page</title>
</head>

<body>
    <button onclick="create_user()">Create User</button>
    <button onclick="validate_user()">Validate User</button>
    <button onclick="set_user_info()">Set User Info</button>
    <button onclick="get_user_info()">Get User Info</button>
    <button onclick="sub_content()">Sub Content</button>
    <button onclick="get_content()">Get Content</button>
    <button onclick="email_user()">Email User (Real API)</button>
	<button onclick="get_apps()">Get Apps</button>
	<button onclick="validate_email()">Validate Email</button>
	<button onclick="change_values()">Change Values</button>

    <script>
        function create_user() {
            fetch('index.php?action=create_user&key=poihasdhfqwqer', {
                method: "POST",
                mode: "cors",
                cache: "no-cache",
                credentials: "same-origin",
                headers: {
                    "Content-Type": "application/x-www-form-urlencoded",
                },
                redirect: "follow",
                referrer: "no-referrer",
                body: 'email=jiknoteam@gmail.com&password=1234'
            })
                .then(res => res.json())
                .then(json => console.log(json))
        }

        function validate_user() {
            fetch('index.php?action=validate_user&key=poihasdhfqwqer', {
                method: "POST",
                mode: "cors",
                cache: "no-cache",
                credentials: "same-origin",
                headers: {
                    "Content-Type": "application/x-www-form-urlencoded",
                },
                redirect: "follow",
                referrer: "no-referrer",
                body: 'email=jiknoteam@gmail.com&password=1234'
            })
                .then(res => res.json())
                .then(json => console.log(json))
        }

        function set_user_info() {
            fetch('index.php?action=set_user_info&key=poihasdhfqwqer', {
                method: "POST",
                mode: "cors",
                cache: "no-cache",
                credentials: "same-origin",
                headers: {
                    "Content-Type": "application/x-www-form-urlencoded",
                },
                redirect: "follow",
                referrer: "no-referrer",
                body: 'email=jiknoteam@gmail.com&password=1234&content={"avatar": "none", "username": "Jikno"}'
            })
                .then(res => res.json())
                .then(json => console.log(json))
        }

        function get_user_info() {
            fetch('index.php?action=get_user_info&key=poihasdhfqwqer', {
                method: "POST",
                mode: "cors",
                cache: "no-cache",
                credentials: "same-origin",
                headers: {
                    "Content-Type": "application/x-www-form-urlencoded",
                },
                redirect: "follow",
                referrer: "no-referrer",
                body: 'email=jiknoteam@gmail.com&password=1234'
            })
                .then(res => res.json())
                .then(json => console.log(json))
        }

        function sub_content() {
            fetch('index.php?action=sub_content&key=poihasdhfqwqer', {
                method: "POST",
                mode: "cors",
                cache: "no-cache",
                credentials: "same-origin",
                headers: {
                    "Content-Type": "application/x-www-form-urlencoded",
                },
                redirect: "follow",
                referrer: "no-referrer",
                body: 'email=jiknoteam@gmail.com&password=1234&branch_name=new_branch&content=["hello","mello","jello"]'
            })
                .then(res => res.json())
                .then(json => console.log(json))
        }

        function get_content() {
            fetch('index.php?action=get_content&key=poihasdhfqwqer', {
                method: "POST",
                mode: "cors",
                cache: "no-cache",
                credentials: "same-origin",
                headers: {
                    "Content-Type": "application/x-www-form-urlencoded",
                },
                redirect: "follow",
                referrer: "no-referrer",
                body: 'email=jiknoteam@gmail.com&password=1234&branch_name=fake_software'
            })
                .then(res => res.json())
                .then(json => console.log(json))
        }

        function emailUser() {
            var content = '';
            fetch('test.html')
                .then(content => content.text())
                .then(text => {
                    content = text;
                })
                .then(() => {
                    fetch('https://www.jikno.com/?action=email_user&key=qjkiqewrjkaslf', {
                        method: "POST",
                        mode: "cors",
                        cache: "no-cache",
                        credentials: "same-origin",
                        headers: {
                            "Content-Type": "application/x-www-form-urlencoded",
                        },
                        redirect: "follow",
                        referrer: "no-referrer",
                        body: 'email=jiknoteam@gmail.com&content=' + content + '&subject=Test'
                    })
                        .then(res => res.json())
                        .then(json => console.log(json))
                });
        }

        function get_apps() {
            fetch('index.php?action=get_apps&key=poihasdhfqwqer', {
                method: "POST",
                mode: "cors",
                cache: "no-cache",
                credentials: "same-origin",
                headers: {
                    "Content-Type": "application/x-www-form-urlencoded",
                },
                redirect: "follow",
                referrer: "no-referrer",
                body: 'email=jiknoteam@gmail.com&password=1234'
            })
                .then(res => res.json())
                .then(json => console.log(json))
        }

		function validate_email() {
            fetch('index.php?action=validate_email&key=poihasdhfqwqer', {
                method: "POST",
                mode: "cors",
                cache: "no-cache",
                credentials: "same-origin",
                headers: {
                    "Content-Type": "application/x-www-form-urlencoded",
                },
                redirect: "follow",
                referrer: "no-referrer",
                body: 'email=jiknoteam@gmail.com'
            })
                .then(res => res.json())
                .then(json => console.log(json))
		}
		
		function change_values() {
            fetch('index.php?action=change_values&key=poihasdhfqwqer', {
                method: "POST",
                mode: "cors",
                cache: "no-cache",
                credentials: "same-origin",
                headers: {
                    "Content-Type": "application/x-www-form-urlencoded",
                },
                redirect: "follow",
                referrer: "no-referrer",
                body: 'email=jiknoteam@gmail.com&password=12345678'
            })
                .then(res => res.json())
                .then(json => console.log(json))
        }
    </script>
</body>

</html>